{"version":3,"sources":["../src/index.js"],"names":["path","require","PORT","app","server","http","createServer","use","exposedHeaders","wss","WebSocketServer","Server","pubSubServer","PubSub","pubsub","get","req","res","sendFile","join","__dirname","express","static","listen","console","log","address","port"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA;;;AAGA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEA;AACA,IAAMC,OAAO,IAAb;;AAEA;AACA,IAAMC,MAAM,wBAAZ;AACA;AACAA,IAAIC,MAAJ,GAAaC,eAAKC,YAAL,CAAkBH,GAAlB,CAAb;;AAEAA,IAAII,GAAJ,CAAQ,oBAAK;AACXC,oBAAgB;AADL,CAAL,CAAR;;AAIA,IAAMC,MAAM,IAAIC,cAAgBC,MAApB,CAA2B;AACrCP,YAAQD,IAAIC;AADyB,CAA3B,CAAZ;;AAIA;AACA,IAAMQ,eAAe,IAAIC,gBAAJ,CAAW,EAACJ,KAAKA,GAAN,EAAX,CAArB;AACAN,IAAIW,MAAJ,GAAaF,YAAb;;AAGAT,IAAIY,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC5BA,QAAIC,QAAJ,CAAalB,KAAKmB,IAAL,CAAUC,YAAY,oBAAtB,CAAb;AACH,CAFD;;AAIAjB,IAAIY,GAAJ,CAAQ,UAAR,EAAoB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACnCA,QAAIC,QAAJ,CAAalB,KAAKmB,IAAL,CAAUC,YAAY,iBAAtB,CAAb;AACH,CAFD;;AAIAjB,IAAIY,GAAJ,CAAQ,8BAAR,EAAuC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACtDA,QAAIC,QAAJ,CAAalB,KAAKmB,IAAL,CAAUC,YAAY,qCAAtB,CAAb;AACH,CAFD;;AAIAjB,IAAIY,GAAJ,CAAQ,gCAAR,EAAyC,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACxDA,QAAIC,QAAJ,CAAalB,KAAKmB,IAAL,CAAUC,YAAY,gCAAtB,CAAb;AACH,CAFD;;AAIAjB,IAAII,GAAJ,CAAQc,kBAAQC,MAAR,CAAe,QAAf,CAAR;AACA;AACAnB,IAAIC,MAAJ,CAAWmB,MAAX,CAAkBrB,IAAlB,EAAwB,YAAM;AAC5BsB,YAAQC,GAAR,6BAAsCtB,IAAIC,MAAJ,CAAWsB,OAAX,GAAqBC,IAA3D;AACD,CAFD","file":"index.js","sourcesContent":["import http from 'http'\nimport express from 'express'\nimport cors from 'cors'\nimport WebSocketServer from 'uws'\nimport PubSub from './pubsub'\n// import path from 'path'\n\n\nconst path = require('path');\n\n// Default Server Post\nconst PORT = 3001\n\n// Create an App\nconst app = express()\n// Create Server\napp.server = http.createServer(app)\n\napp.use(cors({\n  exposedHeaders: '*',\n}))\n\nconst wss = new WebSocketServer.Server({\n  server: app.server,\n})\n\n//Initial PubSub Server\nconst pubSubServer = new PubSub({wss: wss})\napp.pubsub = pubSubServer\n\n\napp.get('/', function(req, res) {\n    res.sendFile(path.join(__dirname + '/client/index.html'));\n});\n\napp.get('/main.js', function(req, res) {\n    res.sendFile(path.join(__dirname + '/client/main.js'));\n});\n\napp.get('/js/addons/datatables.min.js',function(req, res) {\n    res.sendFile(path.join(__dirname + '/public/js/addons/datatables.min.js'));\n});\n\napp.get('/css/addons/datatables.min.css',function(req, res) {\n    res.sendFile(path.join(__dirname + '/css/addons/datatables.min.css'));\n});\n\napp.use(express.static('public'))\n// Start Server.\napp.server.listen(PORT, () => {\n  console.log(`App is running on port ${app.server.address().port}`)\n})"]}